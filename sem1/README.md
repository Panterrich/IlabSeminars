# 1. WSL, консоль

## Семинар

Linux - операционная система, стандарт де-факто во многих областях разработки. Является очень гибкой системой и предоставляет по-настоящему мощные и удобные инструменты для работы.

### WSL

Если у вас стоит операционная система Windows, то не нужно спешить ставить Linux вместо Windows или ставить вторую систему рядом. В Windows уже достаточно давно существует Windows Subsystem for Linux (WSL), которая в последние годы всё более активно развивается.

WSL - это функциональность Windows, которая позволяет использовать окружение Linux без виртуальной машины или наличия второй системы рядом (dual-boot).

#### Установка

> Draft
>
> Следуйте [инструкции](https://learn.microsoft.com/en-us/windows/wsl/install)

### Подключение к WSL с помощью VS Code

> Draft
>
> Рассказать про VS Code SSH Remote Control + WSL Remote (или как там) + показать как связываются файловые системы.

### Терминал

Терминал - один из основных инструментов, который помогает быстро управлять проектом, исполняя консольные команды/приложения. Это и сборка проекта, и создание файлов, и контроль системы версий проекта (тема следующего семинара), и многие прочие вещи.

> [!WARNING]
> Здесь и дальше предполагается, что либо у вас Linux или MacOs, либо вы используете WSL для Windows.

### Команды для взаимодействия с файловой системой

Первое то, с чем необходимо познакомиться - это то, как необходимо работать с файловой системой в терминале. Терминал открывается сразу по какому-то определенному пути, по-умолчанию, в домашней директории.

---

#### 1. Команда `pwd`

`pwd` (present working directory) - это команда, которая показывает в какой рабочей директории сейчас находимся.

Пример пути на Linux:
```
$ pwd
/home/panterrich
```

Пример пути на MacOs:
```
$ pwd
/Users/panterrich
```

Это пути домашних директорий пользователя `panterrich`.

Файловая система имеет древовидную структуру. И пути в этой структуре можно задавать двумя способами:
1. Абсолютные пути - пути, которые задаются от корня `/`.
   - Пример: результат команды `pwd`.
2. Относительные пути - пути, которые задаются относительно текущий директории, т.е. относительно абсолютного пути, который возвращает команда `pwd`.
   - Пример: будет рассмотрен подробно чуть позже.

----

#### 2. Команда `cd` и утилита `ls`

Теперь поговорим о том, как можно менять текущую директорию, но перед этим хотелось бы увидеть, что хранится в нашей директории.

> `ls` (list) - утилита, которая показывает содержимое по указанному пути, по-умолчанию, путь текущей директории.

![Пример выполнения утилиты ls](images/ls.png)

Видим следующее содержание директории: 2 текстовых файла и 2 поддиректории. Давайте получим более подробную информацию о файлах в данной директории.

![Пример выполнения утилиты ls -l](images/ls-l.png)

В первой строке написано количество блоков дискового пространство, которое заняла директория. Обычно блок равен 1КБ. Дальше на каждой строке написано: является данный файл директорией (d) и маска прав.

Традиционно выделяют три права доступа к файлу: чтение, запись и исполнения. Для директорий эти права означают немного другое, нежели для регулярных файлов: чтение - получить содержимое, т.е. список файлов, запись - добавление, удаление, изменение файлов в директории, исполнение - переход в эту директорию.

Дальше выделяют три группы доступа: владелец (owner), группа (group), остальные (other).
Такое разделение прав доступа позволяет обеспечивать информационный безопасность. Более подробно это всё будет разбираться в дальнейших курсах.

Также здесь указан владелец и группа файла, размер файла в байтах, дата последнего изменения.

Давайте теперь перейдем в какую-нибудь директорию.

> `cd` (change directory) - команда, которая осуществляет переход в указанную директорию.

![Пример выполнения команды cd](images/cd.png)

Данная директория пустая. А как теперь нам выйти из неё? Перезапускать терминал? Писать новый абсолютный путь? Да, но нет. Как уже упоминалось ранее, файловую структуру можно представить в виде дерева. И это дерево можно обходить в обратную сторону.

Применяем магию и покажем скрытые файлы

![Пример выполнения утилита ls -la](images/ls-la.png)

Оказывается директория не пустая: в ней содержатся две скрытые директории `.` и `..`. Данные скрытые директории есть в каждой директории. Что же они обозначают?

- `.` - текущая директория
- `..` - предшествующая директория

С помощью данных директорий можно писать относительные пути, делать переходы назад и тд.

![Пример выполнения команды cd с относительным путём](images/cd_rel.png)

---

#### 3. Утилита `clear`

Полезная утилита для очистки окна терминала.

---

#### 4. Утилита `cat`

Показывает содержимое файла.

Пример использования:

```
$ cat example.txt
Lorem ipsum dolor sit amet, consectetur adipiscing elit.
```

---

#### 5. Утилита `touch`

Используется для установки времени последнего изменения или доступа, а также для создания пустых файлов.

Пример использования:

```
# Создали пустой файл
$ touch myfile.txt

# Изменили дату последнего изменения и доступа на 8:46:26 31 января 2007 г.
$ touch -t 200701310846.26 myfile.txt
```

---

#### 6. Утилита `mkdir`

Используется для создания директорий.

Пример использования:

```
# Создаём директорию 'dir1'
$ mkdir dir1

# Создание нескольких директорий
$ mdkir dir1 dir2 dir3
```

> Draft
>
> 7. `nano`
> 8. `rm`, `cp` и `mv`
> 9. `gcc` и `g++`
> 10. `echo`
> 10. Перенаправление ввода и вывода
> 11. `find`, `grep`
> 12. `head`, `tail`
> 13. `diff`
> 14. `man`
> 15. `history`

## Самостоятельная работа

Многие из рассмотренных команд и утилит имеют дополнительные флаги. С помощью `man` ответьте на следующие вопросы:

> [!WARNING]
> Очень важно научиться читать `man`, так как именно он обладает полной информацией о данных командах и утилитах. Часто так можно узнать много важных нюансов, которые любят опускать при ответах на вопросы в Интернете, поэтому постарайтесь не гуглить ответы на данные вопросы.

1. Как можно подавить ошибку о том, что создающаяся директория уже существует?
2. C помощью какого флага можно создать необходимые директории, которые требуются для создания заданной директории?
